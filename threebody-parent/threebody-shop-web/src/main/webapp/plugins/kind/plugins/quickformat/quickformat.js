KindEditor.plugin("quickformat",function(m){var f=this,s=m.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");f.clickToolbar("quickformat",function(){f.focus();for(var t,o=f.edit.doc,e=f.cmd.range,n=m(o.body).first(),r=[],a=[],i=e.createBookmark(!0);n;){t=n.next();var c=function(t){for(var e=t.first();e&&e.first();)e=e.first();return e}(n);c&&"img"==c.name||(s[n.name]?(n.html(n.html().replace(/^(\s|&nbsp;|ã€€)+/gi,"")),n.css("text-indent","2em")):a.push(n),(!t||s[t.name]||s[n.name]&&!s[t.name])&&(0<a.length&&r.push(a),a=[])),n=t}m.each(r,function(t,e){var n=m('<p style="text-indent:2em;"></p>',o);e[0].before(n),m.each(e,function(t,e){n.append(e)})}),e.moveToBookmark(i),f.addBookmark()})});