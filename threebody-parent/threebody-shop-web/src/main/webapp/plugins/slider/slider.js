!function(T){function o(e,i){var t=T.extend({},T.fn.nivoSlider.defaults,i),a={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1},o=T(e);o.data("nivo:vars",a),o.css("position","relative"),o.addClass("nivoSlider");var n=o.children();function b(e){var i,t=T(".nivo-caption",o);""!=a.currentImage.attr("title")&&null!=a.currentImage.attr("title")?("#"==(i=a.currentImage.attr("title")).substr(0,1)&&(i=T(i).html()),0!=t.css("opacity")?t.find("p").stop().fadeTo(e.animSpeed,0,function(){T(this).html(i),T(this).stop().fadeTo(e.animSpeed,1)}):t.find("p").html(i),t.stop().fadeTo(e.animSpeed,e.captionOpacity)):t.stop().fadeTo(e.animSpeed,0)}n.each(function(){var e=T(this),i="";e.is("img")||(e.is("a")&&(e.addClass("nivo-imageLink"),i=e),e=e.find("img:first"));var t=e.width();0==t&&(t=e.attr("width"));var n=e.height();0==n&&(n=e.attr("height")),t>o.width()&&o.width(t),n>o.height()&&o.height(n),""!=i&&i.css("display","none"),e.css("display","none"),a.totalSlides++}),t.randomStart&&(t.startSlide=Math.floor(Math.random()*a.totalSlides)),0<t.startSlide&&(t.startSlide>=a.totalSlides&&(t.startSlide=a.totalSlides-1),a.currentSlide=t.startSlide),T(n[a.currentSlide]).is("img")?a.currentImage=T(n[a.currentSlide]):a.currentImage=T(n[a.currentSlide]).find("img:first"),T(n[a.currentSlide]).is("a")&&T(n[a.currentSlide]).css("display","block"),o.css("background",'url("'+a.currentImage.attr("src")+'") no-repeat'),o.append(T('<div class="nivo-caption"><p></p></div>').css({display:"none",opacity:t.captionOpacity})),T(".nivo-caption",o).css("opacity",0),b(t);var r=0;if(!t.manualAdvance&&1<n.length&&(r=setInterval(function(){v(o,n,t,!1)},t.pauseTime)),t.directionNav&&(o.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+t.prevText+'</a><a class="nivo-nextNav">'+t.nextText+"</a></div>"),t.directionNavHide&&(T(".nivo-directionNav",o).hide(),o.hover(function(){T(".nivo-directionNav",o).show()},function(){T(".nivo-directionNav",o).hide()})),T("a.nivo-prevNav",o).live("click",function(){return!a.running&&(clearInterval(r),r="",a.currentSlide-=2,void v(o,n,t,"prev"))}),T("a.nivo-nextNav",o).live("click",function(){return!a.running&&(clearInterval(r),r="",void v(o,n,t,"next"))})),t.controlNav){var s=T('<div class="nivo-controlNav"></div>');o.append(s);for(var c,l=0;l<n.length;l++)t.controlNavThumbs?((c=n.eq(l)).is("img")||(c=c.find("img:first")),t.controlNavThumbsFromRel?s.append('<a class="nivo-control" rel="'+l+'"><img src="'+c.attr("rel")+'" alt="" /></a>'):s.append('<a class="nivo-control" rel="'+l+'"><img src="'+c.attr("src").replace(t.controlNavThumbsSearch,t.controlNavThumbsReplace)+'" alt="" /></a>')):s.append('<a class="nivo-control" rel="'+l+'">'+(l+1)+"</a>");T(".nivo-controlNav a:eq("+a.currentSlide+")",o).addClass("active"),T(".nivo-controlNav a",o).live("click",function(){return!a.running&&(!T(this).hasClass("active")&&(clearInterval(r),r="",o.css("background",'url("'+a.currentImage.attr("src")+'") no-repeat'),a.currentSlide=T(this).attr("rel")-1,void v(o,n,t,"control")))})}function w(e,i,t){for(var n=0;n<i.slices;n++){var a=Math.round(e.width()/i.slices);n==i.slices-1?e.append(T('<div class="nivo-slice"></div>').css({left:a*n+"px",width:e.width()-a*n+"px",height:"0px",opacity:"0",background:'url("'+t.currentImage.attr("src")+'") no-repeat -'+(a+n*a-a)+"px 0%"})):e.append(T('<div class="nivo-slice"></div>').css({left:a*n+"px",width:a+"px",height:"0px",opacity:"0",background:'url("'+t.currentImage.attr("src")+'") no-repeat -'+(a+n*a-a)+"px 0%"}))}}function y(e,i,t){for(var n=Math.round(e.width()/i.boxCols),a=Math.round(e.height()/i.boxRows),o=0;o<i.boxRows;o++)for(var r=0;r<i.boxCols;r++)r==i.boxCols-1?e.append(T('<div class="nivo-box"></div>').css({opacity:0,left:n*r+"px",top:a*o+"px",width:e.width()-n*r+"px",height:a+"px",background:'url("'+t.currentImage.attr("src")+'") no-repeat -'+(n+r*n-n)+"px -"+(a+o*a-a)+"px"})):e.append(T('<div class="nivo-box"></div>').css({opacity:0,left:n*r+"px",top:a*o+"px",width:n+"px",height:a+"px",background:'url("'+t.currentImage.attr("src")+'") no-repeat -'+(n+r*n-n)+"px -"+(a+o*a-a)+"px"}))}function d(){this.console&&console.log}t.keyboardNav&&T(window).keypress(function(e){if("37"==e.keyCode){if(a.running)return!1;clearInterval(r),r="",a.currentSlide-=2,v(o,n,t,"prev")}if("39"==e.keyCode){if(a.running)return!1;clearInterval(r),r="",v(o,n,t,"next")}}),t.pauseOnHover&&o.hover(function(){a.paused=!0,clearInterval(r),r=""},function(){a.paused=!1,""!=r||t.manualAdvance||(r=setInterval(function(){v(o,n,t,!1)},t.pauseTime))}),o.bind("nivo:animFinished",function(){a.running=!1,T(n).each(function(){T(this).is("a")&&T(this).css("display","none")}),T(n[a.currentSlide]).is("a")&&T(n[a.currentSlide]).css("display","block"),""!=r||a.paused||t.manualAdvance||(r=setInterval(function(){v(o,n,t,!1)},t.pauseTime)),t.afterChange.call(this)});var v=function(r,e,s,i){var t=r.data("nivo:vars");if(t&&t.currentSlide==t.totalSlides-1&&s.lastSlide.call(this),(!t||t.stop)&&!i)return!1;s.beforeChange.call(this),i?("prev"==i&&r.css("background",'url("'+t.currentImage.attr("src")+'") no-repeat'),"next"==i&&r.css("background",'url("'+t.currentImage.attr("src")+'") no-repeat')):r.css("background",'url("'+t.currentImage.attr("src")+'") no-repeat'),t.currentSlide++,t.currentSlide==t.totalSlides&&(t.currentSlide=0,s.slideshowEnd.call(this)),t.currentSlide<0&&(t.currentSlide=t.totalSlides-1),T(e[t.currentSlide]).is("img")?t.currentImage=T(e[t.currentSlide]):t.currentImage=T(e[t.currentSlide]).find("img:first"),s.controlNav&&(T(".nivo-controlNav a",r).removeClass("active"),T(".nivo-controlNav a:eq("+t.currentSlide+")",r).addClass("active")),b(s),T(".nivo-slice",r).remove(),T(".nivo-box",r).remove();var n,a,c=s.effect;if("random"==s.effect&&(n=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),null==(c=n[Math.floor(Math.random()*(n.length+1))])&&(c="fade")),-1!=s.effect.indexOf(",")&&(n=s.effect.split(","),null==(c=n[Math.floor(Math.random()*n.length)])&&(c="fade")),t.currentImage.attr("data-transition")&&(c=t.currentImage.attr("data-transition")),t.running=!0,"sliceDown"==c||"sliceDownRight"==c||"sliceDownLeft"==c){w(r,s,t);var o=0,l=0,d=T(".nivo-slice",r);"sliceDownLeft"==c&&(d=T(".nivo-slice",r)._reverse()),d.each(function(){var e=T(this);e.css({top:"0px"}),l==s.slices-1?setTimeout(function(){e.animate({height:"100%",opacity:"1.0"},s.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+o):setTimeout(function(){e.animate({height:"100%",opacity:"1.0"},s.animSpeed)},100+o),o+=50,l++})}else if("sliceUp"==c||"sliceUpRight"==c||"sliceUpLeft"==c){w(r,s,t);o=0,l=0,d=T(".nivo-slice",r);"sliceUpLeft"==c&&(d=T(".nivo-slice",r)._reverse()),d.each(function(){var e=T(this);e.css({bottom:"0px"}),l==s.slices-1?setTimeout(function(){e.animate({height:"100%",opacity:"1.0"},s.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+o):setTimeout(function(){e.animate({height:"100%",opacity:"1.0"},s.animSpeed)},100+o),o+=50,l++})}else if("sliceUpDown"==c||"sliceUpDownRight"==c||"sliceUpDownLeft"==c){w(r,s,t);var o=0,l=0,v=0,d=T(".nivo-slice",r);"sliceUpDownLeft"==c&&(d=T(".nivo-slice",r)._reverse()),d.each(function(){var e=T(this);0==l?(e.css("top","0px"),l++):(e.css("bottom","0px"),l=0),v==s.slices-1?setTimeout(function(){e.animate({height:"100%",opacity:"1.0"},s.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+o):setTimeout(function(){e.animate({height:"100%",opacity:"1.0"},s.animSpeed)},100+o),o+=50,v++})}else if("fold"==c){w(r,s,t);o=0,l=0;T(".nivo-slice",r).each(function(){var e=T(this),i=e.width();e.css({top:"0px",height:"100%",width:"0px"}),l==s.slices-1?setTimeout(function(){e.animate({width:i,opacity:"1.0"},s.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+o):setTimeout(function(){e.animate({width:i,opacity:"1.0"},s.animSpeed)},100+o),o+=50,l++})}else if("fade"==c)w(r,s,t),(a=T(".nivo-slice:first",r)).css({height:"100%",width:r.width()+"px"}),a.animate({opacity:"1.0"},2*s.animSpeed,"",function(){r.trigger("nivo:animFinished")});else if("slideInRight"==c)w(r,s,t),(a=T(".nivo-slice:first",r)).css({height:"100%",width:"0px",opacity:"1"}),a.animate({width:r.width()+"px"},2*s.animSpeed,"",function(){r.trigger("nivo:animFinished")});else if("slideInLeft"==c)w(r,s,t),(a=T(".nivo-slice:first",r)).css({height:"100%",width:"0px",opacity:"1",left:"",right:"0px"}),a.animate({width:r.width()+"px"},2*s.animSpeed,"",function(){a.css({left:"0px",right:""}),r.trigger("nivo:animFinished")});else if("boxRandom"==c){y(r,s,t);var u=s.boxCols*s.boxRows,l=0,o=0;(m=R(T(".nivo-box",r))).each(function(){var e=T(this);l==u-1?setTimeout(function(){e.animate({opacity:"1"},s.animSpeed,"",function(){r.trigger("nivo:animFinished")})},100+o):setTimeout(function(){e.animate({opacity:"1"},s.animSpeed)},100+o),o+=20,l++})}else if("boxRain"==c||"boxRainReverse"==c||"boxRainGrow"==c||"boxRainGrowReverse"==c){y(r,s,t);var u=s.boxCols*s.boxRows,l=0,o=0,p=0,h=0,f=new Array;f[p]=new Array;var m=T(".nivo-box",r);"boxRainReverse"!=c&&"boxRainGrowReverse"!=c||(m=T(".nivo-box",r)._reverse()),m.each(function(){f[p][h]=T(this),++h==s.boxCols&&(h=0,f[++p]=new Array)});for(var g=0;g<2*s.boxCols;g++){for(var x=g,S=0;S<s.boxRows;S++)0<=x&&x<s.boxCols&&(function(e,i,t){var n=T(f[S][x]),a=n.width(),o=n.height();"boxRainGrow"!=c&&"boxRainGrowReverse"!=c||n.width(0).height(0),i==t-1?setTimeout(function(){n.animate({opacity:"1",width:a,height:o},s.animSpeed/1.3,"",function(){r.trigger("nivo:animFinished")})},100+e):setTimeout(function(){n.animate({opacity:"1",width:a,height:o},s.animSpeed/1.3)},100+e)}(o,l,u),l++),x--;o+=100}}},R=function(e){for(var i,t,n=e.length;n;i=parseInt(Math.random()*n),t=e[--n],e[n]=e[i],e[i]=t);return e};return this.stop=function(){T(e).data("nivo:vars").stop||(T(e).data("nivo:vars").stop=!0,d())},this.start=function(){T(e).data("nivo:vars").stop&&(T(e).data("nivo:vars").stop=!1,d())},t.afterLoad.call(this),this}T.fn.nivoSlider=function(a){return this.each(function(e,i){var t=T(this);if(t.data("nivoslider"))return t.data("nivoslider");var n=new o(this,a);t.data("nivoslider",n)})},T.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,directionNavHide:!0,controlNav:!0,controlNavThumbs:!1,controlNavThumbsFromRel:!1,controlNavThumbsSearch:".jpg",controlNavThumbsReplace:"_thumb.jpg",keyboardNav:!0,pauseOnHover:!0,manualAdvance:!1,captionOpacity:.8,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},T.fn._reverse=[].reverse}(jQuery);